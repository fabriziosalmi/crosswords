<!DOCTYPE html>
<html lang='it'>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>Cruciverba</title>
  <style>
    body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; margin: 20px; }
    h1 { text-align: center; }
    .crossword-container { display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 600px; }
    table { border-collapse: collapse; margin-bottom: 20px; }
    td { border: 1px solid black; width: 30px; height: 30px; text-align: center; font-size: 20px; position: relative; }
    .black { background-color: black; }
    input { box-sizing: border-box; border: none; width: 100%; height: 100%; text-align: center; font-size: 20px; padding: 0; outline: none; background-color: transparent; }
    input:focus { background-color: #e0e0e0; }
    .number { position: absolute; top: 2px; left: 2px; font-size: 8px; }
    .definitions-container { width: 100%; max-width: 600px; }
    .definitions { margin-top: 1em; }
    h2, h3 { text-align: center; }
    ul { list-style-type: none; padding: 0; }
    li { margin-bottom: 0.5em; }
  </style>
  <script>
    function navigateCells(event) {
      const input = event.target;
      const maxLength = parseInt(input.getAttribute('maxlength'), 10);
      if (input.value.length >= maxLength) {
        const currentRow = input.parentElement.parentElement;
        const currentCellIndex = Array.from(currentRow.children).indexOf(input.parentElement);
        const nextCell = currentRow.children[currentCellIndex + 1];
        if (nextCell) {
          const nextInput = nextCell.querySelector('input');
          if (nextInput) {
            nextInput.focus();
          }
        } else {
          const nextRow = currentRow.nextElementSibling;
          if (nextRow) {
          const nextRowFirstCell = nextRow.children[currentCellIndex];
              if (nextRowFirstCell) {
                  const nextInput = nextRowFirstCell.querySelector('input');
                  if(nextInput) { nextInput.focus(); } 
              }
          }
        }
      }
      switch (event.key) {
        case 'ArrowUp':
        case 'Up':
          moveFocus(-1, 0, input);
          break;
        case 'ArrowDown':
        case 'Down':
          moveFocus(1, 0, input);
          break;
        case 'ArrowLeft':
        case 'Left':
          moveFocus(0, -1, input);
          break;
        case 'ArrowRight':
        case 'Right':
          moveFocus(0, 1, input);
          break;
      }
    }
    function moveFocus(rowDelta, colDelta, currentInput) {
        const currentRow = currentInput.parentElement.parentElement;
        const currentCellIndex = Array.from(currentRow.children).indexOf(currentInput.parentElement);
        const allRows = Array.from(currentRow.parentElement.children);
        const currentRowIndex = allRows.indexOf(currentRow);
        const nextRowIndex = currentRowIndex + rowDelta;
        if (nextRowIndex >= 0 && nextRowIndex < allRows.length) {
            const nextRow = allRows[nextRowIndex];
            const nextCellIndex = currentCellIndex + colDelta;
            if (nextCellIndex >= 0 && nextCellIndex < nextRow.children.length) {
                const nextCell = nextRow.children[nextCellIndex];
                const nextInput = nextCell.querySelector('input');
                if (nextInput) {
                    nextInput.focus();
                }
            }
        }
    }
  </script>
</head>
<body>
  <h1>Cruciverba</h1>
  <div class='crossword-container'>
    <table>
  <tr>
    <td><span class='number'>3</span><input type='text' maxlength='1' oninput='this.value=this.value.toUpperCase(); navigateCells(event);'></td>
    <td><span class='number'>4</span><input type='text' maxlength='1' oninput='this.value=this.value.toUpperCase(); navigateCells(event);'></td>
    <td><span class='number'>1</span><input type='text' maxlength='1' oninput='this.value=this.value.toUpperCase(); navigateCells(event);'></td>
  </tr>
  <tr>
    <td><span class='number'>5</span><input type='text' maxlength='1' oninput='this.value=this.value.toUpperCase(); navigateCells(event);'></td>
    <td><input type='text' maxlength='1' oninput='this.value=this.value.toUpperCase(); navigateCells(event);'></td>
    <td><input type='text' maxlength='1' oninput='this.value=this.value.toUpperCase(); navigateCells(event);'></td>
  </tr>
  <tr>
    <td><span class='number'>2</span><input type='text' maxlength='1' oninput='this.value=this.value.toUpperCase(); navigateCells(event);'></td>
    <td><input type='text' maxlength='1' oninput='this.value=this.value.toUpperCase(); navigateCells(event);'></td>
    <td class='black'></td>
  </tr>
    </table>
  </div>
  <div class='definitions-container'>
     <h2>Definizioni</h2>
     <div class='definitions'>
     <h3>Orizzontali</h3>
     <ul>
       <li><b>3. DEV</b> Definizione non disponibile</li>
       <li><b>2. YB</b> Definizione non disponibile</li>
       <li><b>6. QUI</b> Definizione non disponibile</li>
     </ul>
     </div>
     <div class='definitions'>
     <h3>Verticali</h3>
     <ul>
       <li><b>4. QUI</b> Definizione non disponibile</li>
       <li><b>1. YB</b> Definizione non disponibile</li>
       <li><b>5. QUI</b> Definizione non disponibile</li>
     </ul>
     </div>
  </div>
</body>
</html>
